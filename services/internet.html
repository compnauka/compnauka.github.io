<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–Ø–∫ –ø—Ä–∞—Ü—é—î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç: –ü–æ–∫—Ä–æ–∫–æ–≤–∞ –∞–Ω–∞–ª–æ–≥—ñ—è –∑ –ø—ñ—Ü–æ—é</title>
    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —à—Ä–∏—Ñ—Ç—É Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* –°—Ç–∏–ª—ñ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ–π */
        body {
            font-family: 'Inter', sans-serif;
        }
        .step-transition {
            transition: background-color 0.4s ease-in-out, border-color 0.4s ease-in-out, transform 0.4s ease-in-out, opacity 0.4s ease-in-out;
        }
        .visual-item-transition {
            transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out;
        }
        #packet {
            transition: left 1s ease-in-out, top 1s ease-in-out, opacity 0.3s ease-in-out, transform 1s ease-in-out;
        }
        .progress-bar-fill {
            transition: width 0.5s ease-in-out;
        }
        .arrow {
            opacity: 0.2;
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .arrow.active {
            opacity: 1;
            color: #2563eb; /* blue-600 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 p-4 sm:p-6 md:p-8">

    <div class="max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-200">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="p-8 text-center bg-gradient-to-br from-blue-500 to-indigo-600 text-white">
            <h1 class="text-4xl md:text-5xl font-bold mb-2"><span role="img" aria-label="–ø—ñ—Ü–∞">üçï</span> –Ø–∫ –ø—Ä–∞—Ü—é—î –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç? <span role="img" aria-label="–≥–ª–æ–±—É—Å">üåê</span></h1>
            <p class="text-lg md:text-xl text-indigo-100">–ü–æ—è—Å–Ω–µ–Ω–Ω—è –Ω–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Ü–∏!</p>
        </header>

        <main class="p-6 md:p-10">
            <!-- –ê–Ω–∞–ª–æ–≥—ñ—è -->
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- –°–µ–∫—Ü—ñ—è: –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Ü–∏ -->
                <section class="bg-gray-100 p-6 rounded-xl border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-6 flex items-center gap-3">
                        <span class="text-3xl" role="img" aria-label="–ø—ñ—Ü–∞">üçï</span>
                        <span>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—ñ—Ü–∏</span>
                    </h2>
                    <div class="space-y-4">
                        <div id="pizza-step-1" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-blue-600">–ö—Ä–æ–∫ 1: –ü–æ—à—É–∫ –Ω–æ–º–µ—Ä—É</span>
                            <p class="text-sm italic text-gray-700">–í–∏ —à—É–∫–∞—î—Ç–µ –Ω–æ–º–µ—Ä –ø—ñ—Ü–µ—Ä—ñ—ó –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ñ–π –∫–Ω–∏–∑—ñ.</p>
                        </div>
                        <div id="pizza-step-2" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-blue-600">–ö—Ä–æ–∫ 2: –î–∑–≤—ñ–Ω–æ–∫</span>
                            <p class="text-sm italic text-gray-700">–¢–µ–ª–µ—Ñ–æ–Ω—É—î—Ç–µ —Ç–∞ —Ä–æ–±–∏—Ç–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è: "–•–æ—á—É –ø—ñ—Ü—É '–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞'".</p>
                        </div>
                        <div id="pizza-step-3" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-blue-600">–ö—Ä–æ–∫ 3: –ü—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è</span>
                            <p class="text-sm italic text-gray-700">–ù–∞ –∫—É—Ö–Ω—ñ –ø—ñ—Ü–µ—Ä—ñ—ó –≥–æ—Ç—É—é—Ç—å –≤–∞—à—É –ø—ñ—Ü—É.</p>
                        </div>
                        <div id="pizza-step-4" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-blue-600">–ö—Ä–æ–∫ 4: –î–æ—Å—Ç–∞–≤–∫–∞</span>
                            <p class="text-sm italic text-gray-700">–ö—É—Ä'—î—Ä –≤–µ–∑–µ –≥–æ—Ç–æ–≤—É –ø—ñ—Ü—É –Ω–∞ –≤–∞—à—É –∞–¥—Ä–µ—Å—É.</p>
                        </div>
                    </div>
                </section>

                <!-- –°–µ–∫—Ü—ñ—è: –Ø–∫ –ø—Ä–∞—Ü—é—î –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç -->
                <section class="bg-gray-100 p-6 rounded-xl border border-gray-200">
                    <h2 class="text-2xl font-semibold mb-6 flex items-center gap-3">
                        <span class="text-3xl" role="img" aria-label="–≥–ª–æ–±—É—Å">üåê</span>
                        <span>–†–æ–±–æ—Ç–∞ –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—É</span>
                    </h2>
                    <div class="space-y-4">
                        <div id="internet-step-1" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-indigo-600">–ö—Ä–æ–∫ 1: DNS-–∑–∞–ø–∏—Ç</span>
                            <p class="text-sm">–ë—Ä–∞—É–∑–µ—Ä —à—É–∫–∞—î IP-–∞–¥—Ä–µ—Å—É —Å–∞–π—Ç—É –≤ "—Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ñ–π –∫–Ω–∏–∑—ñ" –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—É ‚Äî DNS.</p>
                        </div>
                        <div id="internet-step-2" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-indigo-600">–ö—Ä–æ–∫ 2: HTTP-–∑–∞–ø–∏—Ç</span>
                            <p class="text-sm">–ë—Ä–∞—É–∑–µ—Ä –Ω–∞–¥—Å–∏–ª–∞—î –∑–∞–ø–∏—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä: "–•–æ—á—É –æ—Ç—Ä–∏–º–∞—Ç–∏ —Ü—é –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫—É".</p>
                        </div>
                        <div id="internet-step-3" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-indigo-600">–ö—Ä–æ–∫ 3: –û–±—Ä–æ–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–º</span>
                            <p class="text-sm">–°–µ—Ä–≤–µ—Ä –∑–Ω–∞—Ö–æ–¥–∏—Ç—å —ñ "–≥–æ—Ç—É—î" –≤–µ–±-—Å—Ç–æ—Ä—ñ–Ω–∫—É –¥–ª—è –≤–∞—Å.</p>
                        </div>
                        <div id="internet-step-4" class="step-transition p-4 rounded-lg border-l-4 border-gray-300 opacity-60">
                            <span class="font-bold text-indigo-600">–ö—Ä–æ–∫ 4: HTTP-–≤—ñ–¥–ø–æ–≤—ñ–¥—å</span>
                            <p class="text-sm">–°–µ—Ä–≤–µ—Ä –Ω–∞–¥—Å–∏–ª–∞—î –≥–æ—Ç–æ–≤—É —Å—Ç–æ—Ä—ñ–Ω–∫—É –Ω–∞–∑–∞–¥ —É –≤–∞—à –±—Ä–∞—É–∑–µ—Ä.</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å -->
            <div class="text-center mb-8">
                <div class="flex justify-center items-center gap-4 mb-4">
                    <button id="nextBtn" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        üé¨ –ü–æ—á–∞—Ç–∏
                    </button>
                    <button id="resetBtn" class="px-8 py-3 bg-gray-600 text-white font-semibold rounded-full shadow-lg hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-300 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        üîÑ –°–ø–æ—á–∞—Ç–∫—É
                    </button>
                </div>
                <div class="w-full max-w-md mx-auto bg-gray-200 rounded-full h-2.5 mt-4">
                    <div id="progressBar" class="progress-bar-fill bg-green-500 h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            
            <!-- –í—ñ–∑—É–∞–ª—å–Ω–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è -->
            <div class="bg-gray-100 p-6 md:p-8 rounded-xl text-center border border-gray-200">
                <div id="visual-demo-container" class="relative w-full min-h-[150px] flex items-center justify-center">
                     <div class="flex flex-col md:flex-row justify-around w-full items-center gap-8 md:gap-4">
                        <div id="browser" class="visual-item-transition opacity-40 flex flex-col items-center gap-2">
                            <div class="text-4xl" role="img" aria-label="–∫–æ–º–ø'—é—Ç–µ—Ä">üíª</div>
                            <span class="font-semibold">–í–∞—à –ö–æ–º–ø'—é—Ç–µ—Ä</span>
                        </div>
                        <div class="arrow text-3xl font-light rotate-90 md:rotate-0" id="arrow1">‚Üí</div>
                        <div id="dns" class="visual-item-transition opacity-40 flex flex-col items-center gap-2">
                            <div class="text-4xl" role="img" aria-label="–∫–Ω–∏–≥–∞">üìñ</div>
                            <span class="font-semibold">DNS –°–µ—Ä–≤–µ—Ä</span>
                        </div>
                         <div class="arrow text-3xl font-light rotate-90 md:rotate-0" id="arrow2">‚Üí</div>
                        <div id="server" class="visual-item-transition opacity-40 flex flex-col items-center gap-2">
                            <div class="text-4xl" role="img" aria-label="–±—É–¥—ñ–≤–ª—è">üè¢</div>
                            <span class="font-semibold">–í–µ–±-–°–µ—Ä–≤–µ—Ä</span>
                        </div>
                     </div>
                     <div id="packet" class="absolute text-3xl opacity-0" style="left: 10%; top: 50%; transform: translateY(-50%);" aria-hidden="true"></div>
                </div>
                <p id="animation-status" class="mt-4 text-gray-600 h-12 flex items-center justify-center transition-opacity duration-300 leading-relaxed">–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ—á–∞—Ç–∏", —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –º–∞–≥—ñ—é!</p>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const elements = {
                nextBtn: document.getElementById('nextBtn'),
                resetBtn: document.getElementById('resetBtn'),
                progressBar: document.getElementById('progressBar'),
                packet: document.getElementById('packet'),
                demoContainer: document.getElementById('visual-demo-container'),
                status: document.getElementById('animation-status'),
                visualItems: {
                    browser: document.getElementById('browser'),
                    dns: document.getElementById('dns'),
                    server: document.getElementById('server'),
                },
                arrows: {
                    arrow1: document.getElementById('arrow1'),
                    arrow2: document.getElementById('arrow2'),
                }
            };
            
            const animationSteps = [
                { text_ids: ['pizza-step-1', 'internet-step-1'], from: 'browser', to: 'dns', arrows: ['arrow1'], direction: 1, packet_icon: '‚ùì', status: "<b>–ó–∞–ø–∏—Ç –¥–æ DNS:</b>&nbsp;'–î–µ –∑–Ω–∞–π—Ç–∏ —Å–∞–π—Ç?' <i>–¶–µ —è–∫ —à—É–∫–∞—Ç–∏ –∞–¥—Ä–µ—Å—É –ø—ñ—Ü–µ—Ä—ñ—ó –≤ –¥–æ–≤—ñ–¥–Ω–∏–∫—É.</i>" },
                { text_ids: [], from: 'dns', to: 'browser', arrows: ['arrow1'], direction: -1, packet_icon: 'üí°', status: "<b>–í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ DNS:</b>&nbsp;'–û—Å—å –π–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞!' <i>–î–æ–≤—ñ–¥–Ω–∏–∫ –¥–∞–≤ –≤–∞–º —Ç–æ—á–Ω—É –∞–¥—Ä–µ—Å—É.</i>" },
                { text_ids: ['pizza-step-2', 'internet-step-2'], from: 'browser', to: 'server', arrows: ['arrow1', 'arrow2'], direction: 1, packet_icon: '‚úâÔ∏è', status: "<b>–ó–∞–ø–∏—Ç –¥–æ —Å–µ—Ä–≤–µ—Ä–∞:</b>&nbsp;'–ë—É–¥—å –ª–∞—Å–∫–∞, –¥–∞–π –º–µ–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫—É.' <i>–¶–µ —è–∫ –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É–≤–∞—Ç–∏ —ñ –∑–∞–º–æ–≤–∏—Ç–∏ –ø—ñ—Ü—É.</i>" },
                { text_ids: ['pizza-step-3', 'internet-step-3'], from: 'server', to: 'server', status: "<b>–û–±—Ä–æ–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–º:</b>&nbsp;'–ì–æ—Ç—É—é —Å—Ç–æ—Ä—ñ–Ω–∫—É...' <i>–ü—ñ—Ü–∞–π–æ–ª–æ –ø–æ—á–∞–≤ –≥–æ—Ç—É–≤–∞—Ç–∏ –≤–∞—à—É –ø—ñ—Ü—É.</i>" },
                { text_ids: ['pizza-step-4', 'internet-step-4'], from: 'server', to: 'browser', arrows: ['arrow1', 'arrow2'], direction: -1, packet_icon: 'üìÑ', status: "<b>–í—ñ–¥–ø–æ–≤—ñ–¥—å –≤—ñ–¥ —Å–µ—Ä–≤–µ—Ä–∞:</b>&nbsp;'–¢—Ä–∏–º–∞–π —Å–≤–æ—é —Å—Ç–æ—Ä—ñ–Ω–∫—É!' <i>–ö—É—Ä'—î—Ä –¥–æ—Å—Ç–∞–≤–∏–≤ –≤–∞–º –≥–∞—Ä—è—á—É –ø—ñ—Ü—É.</i>" },
                { text_ids: [], status: "<b>–ì–æ—Ç–æ–≤–æ!</b>&nbsp;–°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ —É –≤–∞—à–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.&nbsp;<i>–°–º–∞—á–Ω–æ–≥–æ!</i>"}
            ];
            
            let currentStep = -1;
            const isMobile = () => window.innerWidth < 768;

            const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            function updateStatus(html) {
                elements.status.style.opacity = '0';
                setTimeout(() => {
                    elements.status.innerHTML = html;
                    elements.status.style.opacity = '1';
                }, 300);
            }
            
            function deactivateAll() {
                 Object.values(elements.visualItems).forEach(item => {
                    item.classList.remove('opacity-100', 'scale-110');
                    item.classList.add('opacity-40');
                });
                Object.values(elements.arrows).forEach(arrow => {
                    arrow.classList.remove('active');
                    arrow.style.transform = ''; // Reset to CSS default
                });
            }

            async function executeStep(stepIndex) {
                if (stepIndex < 0 || stepIndex >= animationSteps.length) return;

                const step = animationSteps[stepIndex];
                deactivateAll();
                updateStatus(step.status);
                
                step.text_ids.forEach(id => {
                    const el = document.getElementById(id);
                    if (el) {
                        el.classList.replace('opacity-60', 'opacity-100');
                        el.classList.replace('border-gray-300', 'border-blue-500');
                        el.classList.add('bg-blue-50', 'scale-105');
                    }
                });

                const fromItem = elements.visualItems[step.from];
                const toItem = elements.visualItems[step.to];

                if (fromItem) fromItem.classList.replace('opacity-40', 'opacity-100');
                if (toItem) toItem.classList.replace('opacity-40', 'opacity-100');
                
                // –û–Ω–æ–≤–ª–µ–Ω–∞ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –ª–æ–≥—ñ–∫–∞ —Å—Ç—Ä—ñ–ª–æ–∫
                if (step.arrows) {
                    const transform = (step.direction === -1) 
                                        ? (isMobile() ? 'rotate(-90deg)' : 'scaleX(-1)') 
                                        : ''; // 'rotate(90deg)' or 'scaleX(1)' - –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω—ñ, —Ü–µ default
                    
                    step.arrows.forEach(arrowId => {
                        const arrowEl = elements.arrows[arrowId];
                        if (arrowEl) {
                            arrowEl.classList.add('active');
                            arrowEl.style.transform = transform;
                        }
                    });
                }

                if (step.from && step.to && step.from !== step.to) {
                    await movePacket(step.from, step.to, step.packet_icon);
                } else if (step.from && step.from === step.to) {
                    fromItem.classList.add('animate-pulse');
                    await sleep(1200);
                    fromItem.classList.remove('animate-pulse');
                }
                
                elements.progressBar.style.width = `${((stepIndex + 1) / animationSteps.length) * 100}%`;
                
                if (stepIndex === animationSteps.length - 1) {
                    elements.nextBtn.disabled = true;
                }
            }

             async function movePacket(fromId, toId, icon) {
                elements.packet.innerHTML = icon;
                const fromEl = elements.visualItems[fromId];
                const toEl = elements.visualItems[toId];
                if (!fromEl || !toEl) return;

                const containerRect = elements.demoContainer.getBoundingClientRect();
                const fromRect = fromEl.getBoundingClientRect();
                const toRect = toEl.getBoundingClientRect();
                
                elements.packet.style.opacity = '1';

                if (isMobile()) {
                    const startY = fromRect.top - containerRect.top + fromRect.height / 2;
                    elements.packet.style.left = `50%`;
                    elements.packet.style.top = `${startY}px`;
                    elements.packet.style.transform = `translateX(-50%) translateY(-50%) scale(1)`;
                    await sleep(50);
                    const endY = toRect.top - containerRect.top + toRect.height / 2;
                    elements.packet.style.top = `${endY}px`;
                    elements.packet.style.transform = `translateX(-50%) translateY(-50%) scale(1.2)`;
                } else {
                    const startX = fromRect.left - containerRect.left + fromRect.width / 2;
                    elements.packet.style.top = `50%`;
                    elements.packet.style.left = `${startX}px`;
                    elements.packet.style.transform = `translateY(-50%) scale(1)`;
                    await sleep(50);
                    const endX = toRect.left - containerRect.left + toRect.width / 2;
                    elements.packet.style.left = `${endX}px`;
                    elements.packet.style.transform = `translateY(-50%) scale(1.2)`;
                }

                await sleep(1000);
                elements.packet.style.opacity = '0';
                elements.packet.style.transform = (isMobile() ? 'translateX(-50%) ' : '') + `translateY(-50%) scale(0.5)`;
            }

            function resetAnimationState() {
                currentStep = -1;
                deactivateAll();
                elements.progressBar.style.width = '0%';
                updateStatus('–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ—á–∞—Ç–∏", —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ –º–∞–≥—ñ—é!');
                
                document.querySelectorAll('.step-transition').forEach(el => {
                    el.classList.replace('opacity-100', 'opacity-60');
                    el.classList.replace('border-blue-500', 'border-gray-300');
                    el.classList.remove('bg-blue-50', 'scale-105');
                });
                                
                elements.packet.style.opacity = '0';
                elements.nextBtn.disabled = false;
                elements.resetBtn.disabled = true;
                elements.nextBtn.textContent = 'üé¨ –ü–æ—á–∞—Ç–∏';
            }

            elements.nextBtn.addEventListener('click', () => {
                if (currentStep < animationSteps.length - 1) {
                    currentStep++;
                    if(currentStep === 0) {
                        elements.nextBtn.textContent = '–ù–∞—Å—Ç—É–ø–Ω–∏–π –∫—Ä–æ–∫';
                        elements.resetBtn.disabled = false;
                    }
                    executeStep(currentStep);
                }
            });
            
            elements.resetBtn.addEventListener('click', resetAnimationState);
            resetAnimationState();
        });
    </script>
</body>
</html>
