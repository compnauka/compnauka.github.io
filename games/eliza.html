<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ELIZA - Психотерапевт (1966)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background-color: #1a1a1a;
            color: #00ff00;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 700px;
            background-color: #000;
            border: 3px solid #00ff00;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }

        .header {
            background-color: #003300;
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid #00ff00;
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 12px;
            opacity: 0.8;
        }

        .chat-box {
            height: 400px;
            overflow-y: auto;
            padding: 20px;
            background-color: #000;
        }

        .message {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .eliza {
            color: #00ff00;
        }

        .user {
            color: #00ffff;
        }

        .message::before {
            font-weight: bold;
        }

        .eliza::before {
            content: "ELIZA: ";
        }

        .user::before {
            content: "ВИ: ";
        }

        .input-area {
            border-top: 2px solid #00ff00;
            padding: 20px;
            background-color: #001100;
        }

        .input-group {
            display: flex;
            gap: 10px;
        }

        input {
            flex: 1;
            padding: 12px;
            background-color: #000;
            border: 2px solid #00ff00;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            border-radius: 5px;
        }

        input:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
        }

        button {
            padding: 12px 24px;
            background-color: #003300;
            border: 2px solid #00ff00;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            cursor: pointer;
            border-radius: 5px;
            transition: all 0.3s;
        }

        button:hover {
            background-color: #00ff00;
            color: #000;
        }

        button:active {
            transform: scale(0.95);
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #001100;
        }

        ::-webkit-scrollbar-thumb {
            background: #00ff00;
            border-radius: 5px;
        }

        .typing {
            opacity: 0.6;
            font-style: italic;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ELIZA</h1>
            <p>Комп'ютерний психотерапевт • MIT 1966</p>
        </div>
        
        <div class="chat-box" id="chatBox"></div>
        
        <div class="input-area">
            <div class="input-group">
                <input type="text" id="userInput" placeholder="Напишіть щось..." autocomplete="off">
                <button onclick="sendMessage()">НАДІСЛАТИ</button>
            </div>
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chatBox');
        const userInput = document.getElementById('userInput');

        const patterns = [
            {
                pattern: /я (.+) тебе/i,
                responses: [
                    "Чому ви {0} мене?",
                    "Вам подобається думати, що ви {0} мене?",
                    "Ви {0} когось ще?"
                ]
            },
            {
                pattern: /я потребую (.+)/i,
                responses: [
                    "Чому вам потрібно {0}?",
                    "Чи справді допоможе вам отримати {0}?",
                    "Ви впевнені, що вам потрібно {0}?"
                ]
            },
            {
                pattern: /чому ти (.+)/i,
                responses: [
                    "Чому ви думаєте, що я {0}?",
                    "Вам сподобається, якщо я не {0}?",
                    "Можливо, в вашій фантазії я {0}."
                ]
            },
            {
                pattern: /я не можу (.+)/i,
                responses: [
                    "Як ви знаєте, що не можете {0}?",
                    "Можливо, ви могли б {0}, якби спробували.",
                    "Що потрібно, щоб ви змогли {0}?"
                ]
            },
            {
                pattern: /я (.+)/i,
                responses: [
                    "Ви прийшли до мене, бо ви {0}?",
                    "Як довго ви {0}?",
                    "Як ви почуваєтеся, що ви {0}?"
                ]
            },
            {
                pattern: /я відчуваю (.+)/i,
                responses: [
                    "Чому ви відчуваєте {0}?",
                    "Як часто ви відчуваєте {0}?",
                    "Що змушує вас відчувати {0}?"
                ]
            },
            {
                pattern: /моя мати|мій батько|мій брат|моя сестра/i,
                responses: [
                    "Розкажіть більше про вашу родину.",
                    "Хто ще у вашій родині?",
                    "Які у вас стосунки з родиною?"
                ]
            },
            {
                pattern: /так|угу|точно/i,
                responses: [
                    "Ви здаєтеся впевненими.",
                    "Я розумію.",
                    "Можете пояснити детальніше?"
                ]
            },
            {
                pattern: /ні|зовсім ні/i,
                responses: [
                    "Чому ні?",
                    "Ви здаєтеся негативно налаштованими.",
                    "Можете розповісти більше?"
                ]
            },
            {
                pattern: /привіт|здрастуйте|добрий день/i,
                responses: [
                    "Привіт. Як ви себе почуваєте сьогодні?",
                    "Доброго дня. Що вас турбує?",
                    "Вітаю. Розкажіть про свої проблеми."
                ]
            },
            {
                pattern: /сумно|депресія|пригнічений/i,
                responses: [
                    "Мені шкода, що ви відчуваєте смуток.",
                    "Чому ви думаєте, що почуваєтесь сумно?",
                    "Коли ви починаєте відчувати себе сумно?"
                ]
            },
            {
                pattern: /щасливий|радісний|веселий/i,
                responses: [
                    "Як приємно чути про ваше щастя!",
                    "Що робить вас щасливими?",
                    "Чи можете ви розповісти більше про ваше щастя?"
                ]
            },
            {
                pattern: /мрію|мрія/i,
                responses: [
                    "Що означає для вас ця мрія?",
                    "Ви часто бачите сни?",
                    "Хто ще з'являється у ваших снах?"
                ]
            },
            {
                pattern: /(.+)/i,
                responses: [
                    "Розкажіть більше про це.",
                    "Як це змушує вас почуватися?",
                    "Чому ви так кажете?",
                    "Можете пояснити детальніше?",
                    "Що ви маєте на увазі?",
                    "Це цікаво. Продовжуйте.",
                    "Я розумію. Що ще?",
                    "Як довго це вас турбує?"
                ]
            }
        ];

        function addMessage(text, isUser) {
            const message = document.createElement('div');
            message.className = 'message ' + (isUser ? 'user' : 'eliza');
            message.textContent = text;
            chatBox.appendChild(message);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        function getElizaResponse(input) {
            for (let i = 0; i < patterns.length; i++) {
                const match = input.match(patterns[i].pattern);
                if (match) {
                    const response = patterns[i].responses[Math.floor(Math.random() * patterns[i].responses.length)];
                    if (match[1]) {
                        return response.replace('{0}', match[1]);
                    }
                    return response;
                }
            }
            return "Розкажіть більше про це.";
        }

        function sendMessage() {
            const text = userInput.value.trim();
            if (text === '') return;

            addMessage(text, true);
            userInput.value = '';

            setTimeout(() => {
                const response = getElizaResponse(text);
                addMessage(response, false);
            }, 500);
        }

        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Початкове привітання
        window.onload = () => {
            addMessage("Привіт. Я ELIZA. Розкажіть мені про свої проблеми.", false);
        };
    </script>
</body>
</html>
