<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–Ω—ñ—Å - –ì—Ä–∞ –Ω–∞ –¥–≤–æ—Ö</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .game-container {
            text-align: center;
            padding: 20px;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            color: #f0f0f0;
            font-size: 32px;
            text-shadow: 0 0 10px rgba(255, 200, 100, 0.5);
        }

        .player-score {
            padding: 10px 30px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        canvas {
            border: 3px solid #ffc857;
            border-radius: 10px;
            background: #0a0a1a;
            box-shadow: 0 0 30px rgba(255, 200, 100, 0.3);
        }

        .controls {
            margin-top: 20px;
            color: #ffc857;
            font-size: 14px;
            line-height: 1.8;
        }

        .btn {
            margin-top: 15px;
            padding: 12px 30px;
            font-size: 16px;
            font-family: 'Courier New', monospace;
            background: #ffc857;
            color: #1a1a2e;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn:hover {
            background: #ffb020;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 200, 100, 0.4);
        }

        .game-over {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(26, 26, 46, 0.95);
            padding: 40px;
            border-radius: 15px;
            border: 3px solid #ffc857;
            display: none;
            text-align: center;
            box-shadow: 0 0 50px rgba(255, 200, 100, 0.5);
        }

        .game-over h2 {
            color: #ffc857;
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(255, 200, 100, 0.7);
        }

        .game-over p {
            color: #f0f0f0;
            font-size: 20px;
            margin-bottom: 25px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="score-board">
            <div class="player-score">
                <div>–ì—Ä–∞–≤–µ—Ü—å 1: <span id="score1">0</span></div>
            </div>
            <div class="player-score">
                <div>–ì—Ä–∞–≤–µ—Ü—å 2: <span id="score2">0</span></div>
            </div>
        </div>
        
        <canvas id="gameCanvas" width="800" height="500"></canvas>
        
        <div class="controls">
            <div>üéÆ –ö–µ—Ä—É–≤–∞–Ω–Ω—è üéÆ</div>
            <div>–ì—Ä–∞–≤–µ—Ü—å 1: W / S | –ì—Ä–∞–≤–µ—Ü—å 2: ‚Üë / ‚Üì</div>
        </div>
        
        <button class="btn" onclick="startGame()">–ü–æ—á–∞—Ç–∏ –≥—Ä—É</button>
    </div>

    <div class="game-over" id="gameOver">
        <h2>–ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
        <p id="winner"></p>
        <button class="btn" onclick="resetGame()">–ì—Ä–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        let gameRunning = false;
        let animationId;

        const game = {
            player1: {
                x: 20,
                y: canvas.height / 2 - 50,
                width: 15,
                height: 100,
                speed: 6,
                score: 0,
                upKey: false,
                downKey: false
            },
            player2: {
                x: canvas.width - 35,
                y: canvas.height / 2 - 50,
                width: 15,
                height: 100,
                speed: 6,
                score: 0,
                upKey: false,
                downKey: false
            },
            ball: {
                x: canvas.width / 2,
                y: canvas.height / 2,
                radius: 8,
                speedX: 5,
                speedY: 5,
                maxSpeed: 12
            }
        };

        document.addEventListener('keydown', (e) => {
            if (e.key === 'w' || e.key === 'W' || e.key === '—Ü' || e.key === '–¶') {
                game.player1.upKey = true;
            }
            if (e.key === 's' || e.key === 'S' || e.key === '—ñ' || e.key === '–Ü') {
                game.player1.downKey = true;
            }
            if (e.key === 'ArrowUp') {
                game.player2.upKey = true;
            }
            if (e.key === 'ArrowDown') {
                game.player2.downKey = true;
            }
        });

        document.addEventListener('keyup', (e) => {
            if (e.key === 'w' || e.key === 'W' || e.key === '—Ü' || e.key === '–¶') {
                game.player1.upKey = false;
            }
            if (e.key === 's' || e.key === 'S' || e.key === '—ñ' || e.key === '–Ü') {
                game.player1.downKey = false;
            }
            if (e.key === 'ArrowUp') {
                game.player2.upKey = false;
            }
            if (e.key === 'ArrowDown') {
                game.player2.downKey = false;
            }
        });

        function drawRect(x, y, w, h, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x, y, w, h);
            ctx.shadowBlur = 15;
            ctx.shadowColor = color;
            ctx.fillRect(x, y, w, h);
            ctx.shadowBlur = 0;
        }

        function drawCircle(x, y, r, color) {
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 20;
            ctx.shadowColor = color;
            ctx.beginPath();
            ctx.arc(x, y, r, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;
        }

        function drawNet() {
            for (let i = 0; i < canvas.height; i += 20) {
                drawRect(canvas.width / 2 - 2, i, 4, 10, 'rgba(255, 200, 100, 0.3)');
            }
        }

        function movePaddles() {
            if (game.player1.upKey && game.player1.y > 0) {
                game.player1.y -= game.player1.speed;
            }
            if (game.player1.downKey && game.player1.y < canvas.height - game.player1.height) {
                game.player1.y += game.player1.speed;
            }
            if (game.player2.upKey && game.player2.y > 0) {
                game.player2.y -= game.player2.speed;
            }
            if (game.player2.downKey && game.player2.y < canvas.height - game.player2.height) {
                game.player2.y += game.player2.speed;
            }
        }

        function moveBall() {
            game.ball.x += game.ball.speedX;
            game.ball.y += game.ball.speedY;

            if (game.ball.y + game.ball.radius > canvas.height || game.ball.y - game.ball.radius < 0) {
                game.ball.speedY = -game.ball.speedY;
            }

            const player = (game.ball.speedX < 0) ? game.player1 : game.player2;
            
            if (collision(game.ball, player)) {
                let collidePoint = game.ball.y - (player.y + player.height / 2);
                collidePoint = collidePoint / (player.height / 2);
                
                let angleRad = collidePoint * Math.PI / 4;
                let direction = (game.ball.speedX < 0) ? 1 : -1;
                
                game.ball.speedX = direction * Math.abs(game.ball.speedX) * 1.05;
                game.ball.speedY = Math.abs(game.ball.speedX) * Math.sin(angleRad);
                
                if (Math.abs(game.ball.speedX) > game.ball.maxSpeed) {
                    game.ball.speedX = direction * game.ball.maxSpeed;
                }
            }

            if (game.ball.x - game.ball.radius < 0) {
                game.player2.score++;
                updateScore();
                resetBall();
            } else if (game.ball.x + game.ball.radius > canvas.width) {
                game.player1.score++;
                updateScore();
                resetBall();
            }
        }

        function collision(ball, player) {
            return ball.x - ball.radius < player.x + player.width &&
                   ball.x + ball.radius > player.x &&
                   ball.y - ball.radius < player.y + player.height &&
                   ball.y + ball.radius > player.y;
        }

        function resetBall() {
            game.ball.x = canvas.width / 2;
            game.ball.y = canvas.height / 2;
            game.ball.speedX = (Math.random() > 0.5 ? 1 : -1) * 5;
            game.ball.speedY = (Math.random() * 2 - 1) * 5;
            
            if (game.player1.score >= 5 || game.player2.score >= 5) {
                endGame();
            }
        }

        function updateScore() {
            document.getElementById('score1').textContent = game.player1.score;
            document.getElementById('score2').textContent = game.player2.score;
        }

        function render() {
            drawRect(0, 0, canvas.width, canvas.height, '#0a0a1a');
            drawNet();
            drawRect(game.player1.x, game.player1.y, game.player1.width, game.player1.height, '#ffc857');
            drawRect(game.player2.x, game.player2.y, game.player2.width, game.player2.height, '#ffc857');
            drawCircle(game.ball.x, game.ball.y, game.ball.radius, '#ff6b6b');
        }

        function gameLoop() {
            if (!gameRunning) return;
            
            movePaddles();
            moveBall();
            render();
            
            animationId = requestAnimationFrame(gameLoop);
        }

        function startGame() {
            if (gameRunning) return;
            gameRunning = true;
            gameLoop();
        }

        function endGame() {
            gameRunning = false;
            cancelAnimationFrame(animationId);
            
            const winner = game.player1.score >= 5 ? '–ì—Ä–∞–≤–µ—Ü—å 1' : '–ì—Ä–∞–≤–µ—Ü—å 2';
            document.getElementById('winner').textContent = `${winner} –ø–µ—Ä–µ–º—ñ–≥! üèÜ`;
            document.getElementById('gameOver').style.display = 'block';
        }

        function resetGame() {
            game.player1.score = 0;
            game.player2.score = 0;
            game.player1.y = canvas.height / 2 - 50;
            game.player2.y = canvas.height / 2 - 50;
            updateScore();
            resetBall();
            document.getElementById('gameOver').style.display = 'none';
            startGame();
        }

        render();
    </script>
</body>
</html>
