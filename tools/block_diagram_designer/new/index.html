<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® –†–µ–¥–∞–∫—Ç–æ—Ä –±–ª–æ–∫-—Å—Ö–µ–º</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N8T05K3NGT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-N8T05K3NGT');
    </script>
</head>
<body>

<header>
    <div class="header-left">
        <span class="logo">üé®</span>
        <h1>–†–µ–¥–∞–∫—Ç–æ—Ä –±–ª–æ–∫-—Å—Ö–µ–º</h1>
    </div>
    <div class="header-right">
        <a href="manual.html" class="header-link" aria-label="–©–æ —Ç–∞–∫–µ –±–ª–æ–∫-—Å—Ö–µ–º–∞">üìñ –î–æ–≤—ñ–¥–Ω–∏–∫</a>
        <button id="help-button" class="icon-btn" aria-label="–î–æ–ø–æ–º–æ–≥–∞" title="–Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å">‚ùì</button>
    </div>
</header>

<div class="container">

    <!-- –ë–û–ö–û–í–ê –ü–ê–ù–ï–õ–¨ -->
    <aside class="sidebar" aria-label="–ü–∞–Ω–µ–ª—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤">

        <section class="sidebar-section">
            <h3 class="sidebar-heading">‚úèÔ∏è –§—ñ–≥—É—Ä–∏</h3>
            <div class="shape-buttons" role="group" aria-label="–¢–∏–ø–∏ —Ñ—ñ–≥—É—Ä">
                <button class="shape-button" data-shape="start-end" aria-label="–ü–æ—á–∞—Ç–æ–∫ –∞–±–æ –ö—ñ–Ω–µ—Ü—å ‚Äî –æ–≤–∞–ª">
                    <span class="shape-icon se-icon"></span>
                    <span class="shape-label">–ü–æ—á–∞—Ç–æ–∫ / –ö—ñ–Ω–µ—Ü—å</span>
                </button>
                <button class="shape-button" data-shape="process" aria-label="–î—ñ—è ‚Äî –ø—Ä—è–º–æ–∫—É—Ç–Ω–∏–∫">
                    <span class="shape-icon proc-icon"></span>
                    <span class="shape-label">–î—ñ—è</span>
                </button>
                <button class="shape-button" data-shape="decision" aria-label="–£–º–æ–≤–∞ ‚Äî —Ä–æ–º–±">
                    <span class="shape-icon dec-icon"></span>
                    <span class="shape-label">–£–º–æ–≤–∞</span>
                </button>
                <button class="shape-button" data-shape="input-output" aria-label="–í–≤—ñ–¥ –∞–±–æ –í–∏–≤—ñ–¥ ‚Äî –ø–∞—Ä–∞–ª–µ–ª–æ–≥—Ä–∞–º">
                    <span class="shape-icon io-icon"></span>
                    <span class="shape-label">–í–≤—ñ–¥ / –í–∏–≤—ñ–¥</span>
                </button>
            </div>
        </section>

        <section class="sidebar-section">
            <h3 class="sidebar-heading">üé® –ö–æ–ª—ñ—Ä</h3>
            <div class="color-picker" role="group" aria-label="–í–∏–±—ñ—Ä –∫–æ–ª—å–æ—Ä—É">
                <button class="color-option selected" style="background:#3f51b5" data-color="#3f51b5" aria-label="–°–∏–Ω—ñ–π" title="–°–∏–Ω—ñ–π"></button>
                <button class="color-option" style="background:#4caf50" data-color="#4caf50" aria-label="–ó–µ–ª–µ–Ω–∏–π" title="–ó–µ–ª–µ–Ω–∏–π"></button>
                <button class="color-option" style="background:#ff9800" data-color="#ff9800" aria-label="–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π" title="–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π"></button>
                <button class="color-option" style="background:#f44336" data-color="#f44336" aria-label="–ß–µ—Ä–≤–æ–Ω–∏–π" title="–ß–µ—Ä–≤–æ–Ω–∏–π"></button>
                <button class="color-option" style="background:#03a9f4" data-color="#03a9f4" aria-label="–ë–ª–∞–∫–∏—Ç–Ω–∏–π" title="–ë–ª–∞–∫–∏—Ç–Ω–∏–π"></button>
                <button class="color-option" style="background:#9c27b0" data-color="#9c27b0" aria-label="–§—ñ–æ–ª–µ—Ç–æ–≤–∏–π" title="–§—ñ–æ–ª–µ—Ç–æ–≤–∏–π"></button>
                <button class="color-option" style="background:#ffe066" data-color="#ffe066" aria-label="–ñ–æ–≤—Ç–∏–π" title="–ñ–æ–≤—Ç–∏–π"></button>
                <button class="color-option" style="background:#00bfae" data-color="#00bfae" aria-label="–ë—ñ—Ä—é–∑–æ–≤–∏–π" title="–ë—ñ—Ä—é–∑–æ–≤–∏–π"></button>
            </div>
        </section>

        <section class="sidebar-section tools-section">
            <h3 class="sidebar-heading">üõ†Ô∏è –î—ñ—ó</h3>

            <button class="tool-button undo-btn" id="undo-button" aria-label="–°–∫–∞—Å—É–≤–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—é –¥—ñ—é" title="Ctrl+Z">
                ‚Ü©Ô∏è –°–∫–∞—Å—É–≤–∞—Ç–∏
            </button>

            <div class="tool-divider"></div>

            <button class="tool-button danger-btn" id="delete-button" aria-label="–í–∏–¥–∞–ª–∏—Ç–∏ –≤–∏–±—Ä–∞–Ω—É —Ñ—ñ–≥—É—Ä—É –∞–±–æ —Å—Ç—Ä—ñ–ª–∫—É">
                üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏
            </button>
            <button class="tool-button warning-btn" id="clear-button" aria-label="–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ –ø–æ–ª–æ—Ç–Ω–æ">
                üßπ –û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ
            </button>

            <div class="tool-divider"></div>

            <button class="tool-button success-btn" id="save-button" aria-label="–ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è">
                üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É
            </button>
        </section>

        <!-- –ü—ñ–¥–∫–∞–∑–∫–∞ –ø–æ —Å—Ç—Ä—ñ–ª–æ—á–∫–∞—Ö -->
        <div class="arrow-tip" id="arrow-tip">
            <strong>üí° –ü–æ—Ä–∞–¥–∞:</strong><br>
            –ù–∞–≤–µ–¥–∏ –Ω–∞ —Ñ—ñ–≥—É—Ä—É ‚Üí –∑'—è–≤–ª—è—Ç—å—Å—è —Å–∏–Ω—ñ –∫—Ä—É–∂–µ—á–∫–∏ ‚Üí —Ç—è–≥–Ω–∏ –∑–≤—ñ–¥—Ç–∏ –¥–æ —ñ–Ω—à–æ—ó —Ñ—ñ–≥—É—Ä–∏!
        </div>

    </aside>

    <!-- –ü–û–õ–û–¢–ù–û -->
    <main class="canvas-container" id="canvas-container" role="application" aria-label="–ü–æ–ª–æ—Ç–Ω–æ –¥–ª—è –±–ª–æ–∫-—Å—Ö–µ–º–∏">
        <div id="flowchart-canvas">
            <svg id="connectors-layer"
                aria-hidden="true"
                style="position:absolute;inset:0;width:100%;height:100%;overflow:visible;z-index:5;pointer-events:none;">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
                    </marker>
                    <marker id="arrowhead-yes" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
                    </marker>
                    <marker id="arrowhead-no" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#f44336"/>
                    </marker>
                    <marker id="arrowhead-selected" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#e91e63"/>
                    </marker>
                    <filter id="shadow">
                        <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.18"/>
                    </filter>
                </defs>
            </svg>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –º–∞—Å—à—Ç–∞–±—É -->
        <div class="zoom-controls" role="group" aria-label="–ú–∞—Å—à—Ç–∞–±">
            <button id="zoom-out" class="zoom-btn" aria-label="–ó–º–µ–Ω—à–∏—Ç–∏" title="–ó–º–µ–Ω—à–∏—Ç–∏ (‚àí)">‚àí</button>
            <div id="zoom-level" class="zoom-text" aria-live="polite">100%</div>
            <button id="zoom-in" class="zoom-btn" aria-label="–ó–±—ñ–ª—å—à–∏—Ç–∏" title="–ó–±—ñ–ª—å—à–∏—Ç–∏ (+)">+</button>
            <button id="zoom-reset" class="zoom-btn zoom-reset-btn" aria-label="–°–∫–∏–Ω—É—Ç–∏ –º–∞—Å—à—Ç–∞–±" title="–°–∫–∏–Ω—É—Ç–∏ –º–∞—Å—à—Ç–∞–±">‚ü≥</button>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –≤–∏–±—Ä–∞–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è -->
        <div id="connection-bar" class="connection-bar hidden" role="status" aria-label="–í–∏–±—Ä–∞–Ω–∞ —Å—Ç—Ä—ñ–ª–∫–∞">
            <span>üèπ –í–∏–±—Ä–∞–Ω–∞ —Å—Ç—Ä—ñ–ª–∫–∞</span>
            <button id="delete-conn-btn" class="conn-delete-btn" aria-label="–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä—ñ–ª–∫—É">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä—ñ–ª–∫—É</button>
        </div>
    </main>
</div>

<!-- ===== –ú–û–î–ê–õ–¨–ù–Ü –í–Ü–ö–ù–ê ===== -->

<!-- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É -->
<div id="text-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="text-modal-title">
    <div class="modal-content">
        <h2 id="text-modal-title">‚úçÔ∏è –í–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç</h2>
        <textarea id="shape-text" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –í–∑—è—Ç–∏ —Ö–ª—ñ–±" aria-label="–¢–µ–∫—Å—Ç —Ñ—ñ–≥—É—Ä–∏" maxlength="120"></textarea>
        <div class="modal-buttons">
            <button class="modal-btn cancel-btn" id="cancel-text">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            <button class="modal-btn ok-btn" id="save-text">‚úÖ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
        </div>
    </div>
</div>

<!-- –í–∏–±—ñ—Ä –¢–∞–∫/–ù—ñ –¥–ª—è —É–º–æ–≤–Ω–æ–≥–æ –∑'—î–¥–Ω–∞–Ω–Ω—è -->
<div id="connection-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="conn-modal-title">
    <div class="modal-content">
        <h2 id="conn-modal-title">üîÄ –¢–∏–ø —Å—Ç—Ä—ñ–ª–∫–∏</h2>
        <p>–í—ñ–¥ –±–ª–æ–∫—É <strong>¬´–£–º–æ–≤–∞¬ª</strong> —Å—Ç—Ä—ñ–ª–∫–∏ –ø–æ–∑–Ω–∞—á–∞—é—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:</p>
        <div class="conn-choice">
            <button id="connection-yes" class="modal-btn yes-btn" aria-label="–¢–∞–∫">‚úÖ –¢–∞–∫</button>
            <button id="connection-no" class="modal-btn no-btn" aria-label="–ù—ñ">‚ùå –ù—ñ</button>
        </div>
        <div class="modal-buttons" style="margin-top:8px">
            <button class="modal-btn cancel-btn" id="cancel-connection">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
        </div>
    </div>
</div>

<!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è / –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è -->
<div id="message-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="msg-modal-text">
    <div class="modal-content">
        <div id="message-modal-text" style="font-size:17px;line-height:1.5"></div>
        <div id="message-modal-buttons" style="margin-top:20px;display:flex;gap:12px;justify-content:center"></div>
    </div>
</div>

<!-- –ü–∞–Ω–µ–ª—å –¥–æ–ø–æ–º–æ–≥–∏ -->
<div id="help-panel" class="help-panel" role="dialog" aria-modal="true" aria-label="–î–æ–≤—ñ–¥–∫–∞" hidden>
    <button id="help-close" class="help-close-btn" aria-label="–ó–∞–∫—Ä–∏—Ç–∏ –¥–æ–≤—ñ–¥–∫—É">‚úï</button>
    <h3>üéì –Ø–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å?</h3>
    <div class="help-steps">
        <div class="help-step">
            <span class="step-num">1</span>
            <span><strong>–î–æ–¥–∞—Ç–∏ —Ñ—ñ–≥—É—Ä—É</strong> ‚Äî –Ω–∞—Ç–∏—Å–Ω–∏ –Ω–∞ –Ω–µ—ó –≤ –ø–∞–Ω–µ–ª—ñ –ª—ñ–≤–æ—Ä—É—á</span>
        </div>
        <div class="help-step">
            <span class="step-num">2</span>
            <span><strong>–ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–∫—Å—Ç</strong> ‚Äî –¥–≤—ñ—á—ñ –Ω–∞—Ç–∏—Å–Ω–∏ –Ω–∞ —Ñ—ñ–≥—É—Ä—É</span>
        </div>
        <div class="help-step">
            <span class="step-num">3</span>
            <span><strong>–ó'—î–¥–Ω–∞—Ç–∏ —Å—Ç—Ä—ñ–ª–∫–æ—é</strong> ‚Äî –Ω–∞–≤–µ–¥–∏ –Ω–∞ —Ñ—ñ–≥—É—Ä—É ‚Üí —Ç—è–≥–Ω–∏ –≤—ñ–¥ —Å–∏–Ω—å–æ–≥–æ –∫—Ä—É–∂–µ—á–∫–∞ –¥–æ —ñ–Ω—à–æ—ó —Ñ—ñ–≥—É—Ä–∏</span>
        </div>
        <div class="help-step">
            <span class="step-num">4</span>
            <span><strong>–í–∏–¥–∞–ª–∏—Ç–∏ —Å—Ç—Ä—ñ–ª–∫—É</strong> ‚Äî –Ω–∞—Ç–∏—Å–Ω–∏ –Ω–∞ —Å—Ç—Ä—ñ–ª–∫—É ‚Üí –Ω–∞—Ç–∏—Å–Ω–∏ üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</span>
        </div>
        <div class="help-step">
            <span class="step-num">5</span>
            <span><strong>–ü–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏ —Ñ—ñ–≥—É—Ä—É</strong> ‚Äî —Ç—è–≥–Ω–∏ –ø–∞–ª—å—Ü–µ–º –∞–±–æ –º–∏—à–∫–æ—é</span>
        </div>
        <div class="help-step">
            <span class="step-num">6</span>
            <span><strong>–ú–∞—Å—à—Ç–∞–±</strong> ‚Äî –∫–æ–ª–µ—Å–æ –º–∏—à—ñ –∞–±–æ –∫–Ω–æ–ø–∫–∏ + / ‚àí</span>
        </div>
        <div class="help-step">
            <span class="step-num">7</span>
            <span><strong>–°–∫–∞—Å—É–≤–∞—Ç–∏</strong> ‚Äî –∫–Ω–æ–ø–∫–∞ ‚Ü©Ô∏è –∞–±–æ Ctrl+Z</span>
        </div>
        <div class="help-step">
            <span class="step-num">8</span>
            <span><strong>–ó–±–µ—Ä–µ–≥—Ç–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É</strong> ‚Äî –∫–Ω–æ–ø–∫–∞ üíæ</span>
        </div>
    </div>
</div>

<!-- –ö–æ–Ω—Ñ–µ—Ç—ñ-—Å–≤—è—Ç–∫—É–≤–∞–Ω–Ω—è -->
<canvas id="confetti-canvas" aria-hidden="true"></canvas>

<script src="script.js"></script>
</body>
</html>
